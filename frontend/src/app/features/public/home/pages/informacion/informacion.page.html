<ion-content>
  <div class="container">

    <!-- HERO SECTION -->
    <div class="page-hero">
      <h1>Consejo Nacional de <span>Competencias</span></h1>
      <p>Organismo técnico encargado de organizar e implementar el proceso de descentralización en el Ecuador.</p>
    </div>

    <!-- SEGMENTED CONTROL -->
    <div class="ion-padding-bottom" style="max-width: 600px; margin: 0 auto 30px;">
      <ion-segment [(ngModel)]="selectedSegment" mode="ios">
        <ion-segment-button value="general">
          <ion-label>General</ion-label>
        </ion-segment-button>
        <ion-segment-button value="estructura">
          <ion-label>Estructura</ion-label>
        </ion-segment-button>
        <ion-segment-button value="competencias">
          <ion-label>Competencias</ion-label>
        </ion-segment-button>
      </ion-segment>
    </div>

    <!-- VIEW: GENERAL -->
    <div class="bento-grid" *ngIf="selectedSegment === 'general'">

      <!-- INTRO (Large) -->
      <div class="bento-card intro-card">
        <h2>
          <ion-icon name="information-circle-outline"></ion-icon>
          ¿Qué es el CNC?
        </h2>
        <div class="intro-text">
          <p>El Consejo Nacional de Competencias es el organismo técnico del Sistema Nacional de Competencias, encargado
            de organizar e implementar el proceso de descentralización en el Ecuador, regulando la transferencia de
            competencias a los Gobiernos Autónomos Descentralizados.</p>
        </div>
      </div>

      <!-- STATS SUMMARY -->
      <div class="bento-card stats-summary-card">
        <div class="mini-stats-grid">
          <div class="mini-stat">
            <div class="icon-box"><ion-icon name="document-text-outline"></ion-icon></div>
            <div class="content">
              <span class="number">221</span>
              <span class="label">Resoluciones emitidas</span>
            </div>
          </div>
          <div class="mini-stat">
            <div class="icon-box"><ion-icon name="swap-horizontal-outline"></ion-icon></div>
            <div class="content">
              <span class="number">15</span>
              <span class="label">Competencias transferidas</span>
            </div>
          </div>
          <div class="mini-stat">
            <div class="icon-box"><ion-icon name="people-outline"></ion-icon></div>
            <div class="content">
              <span class="number">15,340</span>
              <span class="label">Funcionarios capacitados</span>
            </div>
          </div>
        </div>
      </div>

      <div class="bento-card intro-card" style="margin-top: 10px;">
        <div class="intro-image">
          <img src="assets/informacion/que-es-cnc.jpg" alt="Consejo Nacional de Competencias"
            style="width: 100%; border-radius: 12px; display: block;">
        </div>
      </div>
    </div>

    <!-- VIEW: ESTRUCTURA -->
    <div class="bento-grid" *ngIf="selectedSegment === 'estructura'">
      <!-- MEMBERS -->
      <div class="bento-card members-section-card">
        <h2>
          <ion-icon name="people-circle-outline"></ion-icon>
          Estructura del Consejo
        </h2>

        <h3 style="text-align: center; color: #64748b; margin-bottom: 30px; font-weight: 500;">Pleno del Consejo</h3>

        <div class="members-list">
          <div class="member-item">
            <ion-avatar>
              <img src="assets/informacion/avatar-default.jpg" alt="Presidencia">
            </ion-avatar>
            <div class="info">
              <h4>Representante de la Presidencia de la República</h4>
              <p>Función: Presidir el Consejo Nacional de Competencias</p>
            </div>
          </div>

          <div class="member-item">
            <ion-avatar>
              <img src="assets/informacion/avatar-default.jpg" alt="Prefecturas">
            </ion-avatar>
            <div class="info">
              <h4>Representante de los Gobiernos Provinciales</h4>
              <p>Función: Representación de los GAD Provinciales</p>
            </div>
          </div>

          <div class="member-item">
            <ion-avatar>
              <img src="assets/informacion/avatar-default.jpg" alt="Alcaldías">
            </ion-avatar>
            <div class="info">
              <h4>Representante de los Gobiernos Municipales</h4>
              <p>Función: Representación de los GAD Municipales</p>
            </div>
          </div>

          <div class="member-item">
            <ion-avatar>
              <img src="assets/informacion/avatar-default.jpg" alt="Parroquias">
            </ion-avatar>
            <div class="info">
              <h4>Representante de los Gobiernos Parroquiales Rurales</h4>
              <p>Función: Representación de los GAD Parroquiales Rurales</p>
            </div>
          </div>
        </div>

        <!-- INTEGRATED ORGANIGRAM -->
        <div class="intro-image"
          style="margin-top: 50px; text-align: center; background: #f8fafc; padding: 30px; border-radius: 24px; border: 1px dashed #cbd5e1;">
          <h3 style="margin-bottom: 20px; color: #334155; font-size: 1.2rem; font-weight: 600;">
            <ion-icon name="git-network-outline" style="vertical-align: middle; margin-right: 8px;"></ion-icon>
            Organigrama Institucional
          </h3>
          <img src="assets/informacion/organigrama.png" alt="Organigrama del CNC" loading="lazy" decoding="async"
            style="max-height: 600px; width: auto; max-width: 100%; border-radius: 12px; mix-blend-mode: multiply;">
        </div>
      </div>
    </div>

    <!-- VIEW: COMPETENCIAS -->
    <div class="bento-grid" *ngIf="selectedSegment === 'competencias'">

      <!-- COMPETENCIES (Left) -->
      <div class="bento-card competencies-card"
        style="grid-column: span 12; @media(min-width: 900px) { grid-column: span 6; }">
        <h2>
          <ion-icon name="ribbon-outline"></ion-icon>
          Competencias y Funciones
        </h2>
        <ion-accordion-group>
          <ion-accordion value="cons">
            <ion-item slot="header">
              <ion-label>Competencias Constitucionales</ion-label>
            </ion-item>
            <div slot="content">
              <p>El CNC es responsable de la transferencia de las competencias exclusivas establecidas en la
                Constitución para cada nivel de gobierno, garantizando que se cumplan los principios de subsidiariedad,
                solidaridad, equidad territorial e interterritorial.</p>
              <ul>
                <li>Competencias de GAD Provinciales</li>
                <li>Competencias de GAD Municipales</li>
                <li>Competencias de GAD Parroquiales Rurales</li>
              </ul>
            </div>
          </ion-accordion>
          <ion-accordion value="func">
            <ion-item slot="header">
              <ion-label>Funciones Principales</ion-label>
            </ion-item>
            <div slot="content">
              <ul>
                <li>Regular el procedimiento de transferencia de competencias</li>
                <li>Determinar las competencias residuales</li>
                <li>Asignar competencias adicionales</li>
                <li>Resolver conflictos de competencias entre niveles de gobierno</li>
                <li>Emitir resoluciones para evitar o eliminar la superposición de funciones</li>
                <li>Monitorear y evaluar el ejercicio de las competencias transferidas</li>
              </ul>
            </div>
          </ion-accordion>
          <ion-accordion value="fort">
            <ion-item slot="header">
              <ion-label>Fortalecimiento Institucional</ion-label>
            </ion-item>
            <div slot="content">
              <p>El CNC implementa planes y programas de fortalecimiento institucional para los GAD en el ejercicio de
                sus competencias, mediante:</p>
              <ul>
                <li>Capacitación a servidores públicos</li>
                <li>Asistencia técnica</li>
                <li>Desarrollo de modelos de gestión</li>
                <li>Formación en competencias específicas</li>
                <li>Intercambio de experiencias y buenas prácticas</li>
              </ul>
            </div>
          </ion-accordion>
        </ion-accordion-group>
      </div>

      <!-- CHART (Right) -->
      <div class="bento-card chart-card"
        style="grid-column: span 12; @media(min-width: 900px) { grid-column: span 6; }">
        <h2>
          <ion-icon name="bar-chart-outline"></ion-icon>
          Estadísticas de Gestión
        </h2>
        <div class="chart-container">
          <h3>Avance en Transferencia de Competencias</h3>
          <img src="assets/informacion/grafico-competencias.png"
            style="width: 100%; border-radius: 12px; display: block;" alt="Gráfico Estadístico">
        </div>
      </div>

    </div>
  </div>
</ion-content>