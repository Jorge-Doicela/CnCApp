<ion-content class="login-content" [fullscreen]="true">
  <div class="login-split-layout">

    <!-- Left Side: Branding (Desktop) -->
    <div class="branding-section ion-hide-lg-down">
      <div class="branding-content animate-fade-up">
        <div class="logo-wrapper">
          <img src="assets/cnc.png" alt="CNC Logo" class="brand-logo">
        </div>
        <h1>Consejo Nacional de<br><span>Competencias</span></h1>
        <p>Sistema de Gestión de Capacitaciones y Certificaciones</p>
        <div class="glass-pill">
          <ion-icon name="shield-checkmark-outline"></ion-icon>
          <span>Acceso Seguro</span>
        </div>
      </div>
      <!-- Background Shapes -->
      <div class="shape-blob blob-1"></div>
      <div class="shape-blob blob-2"></div>
      <div class="glass-overlay"></div>
    </div>

    <!-- Right Side: Form -->
    <div class="form-section">
      <img src="assets/cnc.png" alt="CNC Logo" class="mobile-logo ion-hide-lg-up">

      <div class="login-card-wrapper animate-fade-up" style="animation-delay: 0.1s;">
        <div class="header-actions">
          <ion-button fill="clear" routerLink="/home" class="back-btn" color="medium">
            <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
            Volver al Inicio
          </ion-button>
        </div>

        <div class="form-header">
          <h2>Bienvenido</h2>
          <p>Ingresa tus credenciales para continuar</p>
        </div>

        <form (ngSubmit)="loginUser()">

          <div class="input-group">
            <ion-label position="stacked">Cédula de Identidad</ion-label>
            <div class="custom-input-wrapper">
              <ion-icon name="person-outline" class="input-icon"></ion-icon>
              <ion-input [value]="ci()" (ionInput)="updateCi($event)" type="tel" maxlength="10"
                placeholder="Ingrese su cédula" mode="md">
              </ion-input>
            </div>
          </div>

          <div class="input-group">
            <ion-label position="stacked">Contraseña</ion-label>
            <div class="custom-input-wrapper">
              <ion-icon name="lock-closed-outline" class="input-icon"></ion-icon>
              <ion-input [value]="password()" (ionInput)="updatePassword($event)"
                [type]="showPassword() ? 'text' : 'password'" placeholder="Ingrese su contraseña" mode="md">
              </ion-input>
              <ion-button fill="clear" (click)="togglePassword()" class="eye-btn" slot="end">
                <ion-icon [name]="showPassword() ? 'eye-off-outline' : 'eye-outline'" slot="icon-only"></ion-icon>
              </ion-button>
            </div>
            <div class="forgot-link">
              <a (click)="solicitarRecuperacion()">¿Olvidaste tu contraseña?</a>
            </div>
          </div>

          <ion-button expand="block" type="submit" class="submit-btn" [disabled]="!ci() || !password()">
            Ingresar
            <ion-icon name="arrow-forward-outline" slot="end"></ion-icon>
          </ion-button>

        </form>

        <div class="divider">
          <span>O</span>
        </div>

        <ion-button expand="block" fill="outline" class="register-btn" (click)="iraRegister()">
          Crear una cuenta nueva
        </ion-button>

        <div class="footer-terms">
          <p>&copy; 2026 Consejo Nacional de Competencias</p>
        </div>

      </div>
    </div>

  </div>
</ion-content>